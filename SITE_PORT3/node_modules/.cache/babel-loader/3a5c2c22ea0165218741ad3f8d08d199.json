{"ast":null,"code":"import { useState as T, useRef as p, useEffect as u, useMemo as M } from \"react\";\nfunction g(n, t) {\n  let o;\n  return (...i) => {\n    window.clearTimeout(o), o = window.setTimeout(() => n(...i), t);\n  };\n}\nfunction j({\n  debounce: n,\n  scroll: t,\n  polyfill: o,\n  offsetSize: i\n} = {\n  debounce: 0,\n  scroll: !1,\n  offsetSize: !1\n}) {\n  const a = o || (typeof window == \"undefined\" ? class {} : window.ResizeObserver);\n  if (!a) throw new Error(\"This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills\");\n  const [c, h] = T({\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0,\n      bottom: 0,\n      right: 0,\n      x: 0,\n      y: 0\n    }),\n    e = p({\n      element: null,\n      scrollContainers: null,\n      resizeObserver: null,\n      lastBounds: c,\n      orientationHandler: null\n    }),\n    d = n ? typeof n == \"number\" ? n : n.scroll : null,\n    f = n ? typeof n == \"number\" ? n : n.resize : null,\n    w = p(!1);\n  u(() => (w.current = !0, () => void (w.current = !1)));\n  const [z, m, s] = M(() => {\n    const r = () => {\n      if (!e.current.element) return;\n      const {\n          left: y,\n          top: C,\n          width: H,\n          height: O,\n          bottom: S,\n          right: x,\n          x: B,\n          y: R\n        } = e.current.element.getBoundingClientRect(),\n        l = {\n          left: y,\n          top: C,\n          width: H,\n          height: O,\n          bottom: S,\n          right: x,\n          x: B,\n          y: R\n        };\n      e.current.element instanceof HTMLElement && i && (l.height = e.current.element.offsetHeight, l.width = e.current.element.offsetWidth), Object.freeze(l), w.current && !D(e.current.lastBounds, l) && h(e.current.lastBounds = l);\n    };\n    return [r, f ? g(r, f) : r, d ? g(r, d) : r];\n  }, [h, i, d, f]);\n  function v() {\n    e.current.scrollContainers && (e.current.scrollContainers.forEach(r => r.removeEventListener(\"scroll\", s, !0)), e.current.scrollContainers = null), e.current.resizeObserver && (e.current.resizeObserver.disconnect(), e.current.resizeObserver = null), e.current.orientationHandler && (\"orientation\" in screen && \"removeEventListener\" in screen.orientation ? screen.orientation.removeEventListener(\"change\", e.current.orientationHandler) : \"onorientationchange\" in window && window.removeEventListener(\"orientationchange\", e.current.orientationHandler));\n  }\n  function b() {\n    e.current.element && (e.current.resizeObserver = new a(s), e.current.resizeObserver.observe(e.current.element), t && e.current.scrollContainers && e.current.scrollContainers.forEach(r => r.addEventListener(\"scroll\", s, {\n      capture: !0,\n      passive: !0\n    })), e.current.orientationHandler = () => {\n      s();\n    }, \"orientation\" in screen && \"addEventListener\" in screen.orientation ? screen.orientation.addEventListener(\"change\", e.current.orientationHandler) : \"onorientationchange\" in window && window.addEventListener(\"orientationchange\", e.current.orientationHandler));\n  }\n  const L = r => {\n    !r || r === e.current.element || (v(), e.current.element = r, e.current.scrollContainers = E(r), b());\n  };\n  return X(s, !!t), W(m), u(() => {\n    v(), b();\n  }, [t, s, m]), u(() => v, []), [L, c, z];\n}\nfunction W(n) {\n  u(() => {\n    const t = n;\n    return window.addEventListener(\"resize\", t), () => void window.removeEventListener(\"resize\", t);\n  }, [n]);\n}\nfunction X(n, t) {\n  u(() => {\n    if (t) {\n      const o = n;\n      return window.addEventListener(\"scroll\", o, {\n        capture: !0,\n        passive: !0\n      }), () => void window.removeEventListener(\"scroll\", o, !0);\n    }\n  }, [n, t]);\n}\nfunction E(n) {\n  const t = [];\n  if (!n || n === document.body) return t;\n  const {\n    overflow: o,\n    overflowX: i,\n    overflowY: a\n  } = window.getComputedStyle(n);\n  return [o, i, a].some(c => c === \"auto\" || c === \"scroll\") && t.push(n), [...t, ...E(n.parentElement)];\n}\nconst k = [\"x\", \"y\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\"],\n  D = (n, t) => k.every(o => n[o] === t[o]);\nexport { j as default };","map":{"version":3,"sources":["../src/index.ts"],"names":["createDebounce","callback","ms","timeoutId","args","useMeasure","ResizeObserver","polyfill","bounds","set","useState","state","useRef","scrollDebounce","debounce","resizeDebounce","mounted","useEffect","forceRefresh","resizeChange","scrollChange","useMemo","size","offsetSize","areBoundsEqual","removeListeners","element","addListeners","scroll","scrollContainer","ref","node","findScrollContainers","useOnWindowScroll","useOnWindowResize","onWindowResize","cb","onScroll","enabled","result","overflow","overflowX","overflowY","prop","keys","a","b","key"],"mappings":"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","sourcesContent":["import{useState as T,useRef as p,useEffect as u,useMemo as M}from\"react\";function g(n,t){let o;return(...i)=>{window.clearTimeout(o),o=window.setTimeout(()=>n(...i),t)}}function j({debounce:n,scroll:t,polyfill:o,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=o||(typeof window==\"undefined\"?class{}:window.ResizeObserver);if(!a)throw new Error(\"This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills\");const[c,h]=T({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),e=p({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),d=n?typeof n==\"number\"?n:n.scroll:null,f=n?typeof n==\"number\"?n:n.resize:null,w=p(!1);u(()=>(w.current=!0,()=>void(w.current=!1)));const[z,m,s]=M(()=>{const r=()=>{if(!e.current.element)return;const{left:y,top:C,width:H,height:O,bottom:S,right:x,x:B,y:R}=e.current.element.getBoundingClientRect(),l={left:y,top:C,width:H,height:O,bottom:S,right:x,x:B,y:R};e.current.element instanceof HTMLElement&&i&&(l.height=e.current.element.offsetHeight,l.width=e.current.element.offsetWidth),Object.freeze(l),w.current&&!D(e.current.lastBounds,l)&&h(e.current.lastBounds=l)};return[r,f?g(r,f):r,d?g(r,d):r]},[h,i,d,f]);function v(){e.current.scrollContainers&&(e.current.scrollContainers.forEach(r=>r.removeEventListener(\"scroll\",s,!0)),e.current.scrollContainers=null),e.current.resizeObserver&&(e.current.resizeObserver.disconnect(),e.current.resizeObserver=null),e.current.orientationHandler&&(\"orientation\"in screen&&\"removeEventListener\"in screen.orientation?screen.orientation.removeEventListener(\"change\",e.current.orientationHandler):\"onorientationchange\"in window&&window.removeEventListener(\"orientationchange\",e.current.orientationHandler))}function b(){e.current.element&&(e.current.resizeObserver=new a(s),e.current.resizeObserver.observe(e.current.element),t&&e.current.scrollContainers&&e.current.scrollContainers.forEach(r=>r.addEventListener(\"scroll\",s,{capture:!0,passive:!0})),e.current.orientationHandler=()=>{s()},\"orientation\"in screen&&\"addEventListener\"in screen.orientation?screen.orientation.addEventListener(\"change\",e.current.orientationHandler):\"onorientationchange\"in window&&window.addEventListener(\"orientationchange\",e.current.orientationHandler))}const L=r=>{!r||r===e.current.element||(v(),e.current.element=r,e.current.scrollContainers=E(r),b())};return X(s,!!t),W(m),u(()=>{v(),b()},[t,s,m]),u(()=>v,[]),[L,c,z]}function W(n){u(()=>{const t=n;return window.addEventListener(\"resize\",t),()=>void window.removeEventListener(\"resize\",t)},[n])}function X(n,t){u(()=>{if(t){const o=n;return window.addEventListener(\"scroll\",o,{capture:!0,passive:!0}),()=>void window.removeEventListener(\"scroll\",o,!0)}},[n,t])}function E(n){const t=[];if(!n||n===document.body)return t;const{overflow:o,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[o,i,a].some(c=>c===\"auto\"||c===\"scroll\")&&t.push(n),[...t,...E(n.parentElement)]}const k=[\"x\",\"y\",\"top\",\"bottom\",\"left\",\"right\",\"width\",\"height\"],D=(n,t)=>k.every(o=>n[o]===t[o]);export{j as default};\n//# sourceMappingURL=index.js.map\n"]},"metadata":{},"sourceType":"module"}