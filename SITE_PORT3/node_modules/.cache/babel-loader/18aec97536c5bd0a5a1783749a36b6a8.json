{"ast":null,"code":"import { TempNode } from '../core/TempNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\nfunction PositionNode(scope) {\n  TempNode.call(this, 'v3');\n  this.scope = scope || PositionNode.LOCAL;\n}\nPositionNode.LOCAL = 'local';\nPositionNode.WORLD = 'world';\nPositionNode.VIEW = 'view';\nPositionNode.PROJECTION = 'projection';\nPositionNode.prototype = Object.create(TempNode.prototype);\nPositionNode.prototype.constructor = PositionNode;\nPositionNode.prototype.nodeType = 'Position';\nPositionNode.prototype.getType = function () {\n  switch (this.scope) {\n    case PositionNode.PROJECTION:\n      return 'v4';\n  }\n  return this.type;\n};\nPositionNode.prototype.getShared = function () /* builder */\n{\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n    case PositionNode.WORLD:\n      return false;\n  }\n  return true;\n};\nPositionNode.prototype.generate = function (builder, output) {\n  var result;\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n      if (builder.isShader('vertex')) {\n        result = 'transformed';\n      } else {\n        builder.requires.position = true;\n        result = 'vPosition';\n      }\n      break;\n    case PositionNode.WORLD:\n      if (builder.isShader('vertex')) {\n        return '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\n      } else {\n        builder.requires.worldPosition = true;\n        result = 'vWPosition';\n      }\n      break;\n    case PositionNode.VIEW:\n      result = builder.isShader('vertex') ? '-mvPosition.xyz' : 'vViewPosition';\n      break;\n    case PositionNode.PROJECTION:\n      result = builder.isShader('vertex') ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\n      break;\n  }\n  return builder.format(result, this.getType(builder), output);\n};\nPositionNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  return this;\n};\nPositionNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.scope = this.scope;\n  }\n  return data;\n};\nNodeLib.addKeyword('position', function () {\n  return new PositionNode();\n});\nNodeLib.addKeyword('worldPosition', function () {\n  return new PositionNode(PositionNode.WORLD);\n});\nNodeLib.addKeyword('viewPosition', function () {\n  return new PositionNode(PositionNode.VIEW);\n});\nexport { PositionNode };","map":{"version":3,"names":["TempNode","NodeLib","PositionNode","scope","call","LOCAL","WORLD","VIEW","PROJECTION","prototype","Object","create","constructor","nodeType","getType","type","getShared","generate","builder","output","result","isShader","requires","position","worldPosition","format","copy","source","toJSON","meta","data","getJSONNode","createJSONNode","addKeyword"],"sources":["C:/Users/drncs/OneDrive/√Årea de Trabalho/PORTIFOLIO/SITE3/node_modules/three-stdlib/nodes/accessors/PositionNode.js"],"sourcesContent":["import { TempNode } from '../core/TempNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\n\nfunction PositionNode(scope) {\n  TempNode.call(this, 'v3');\n  this.scope = scope || PositionNode.LOCAL;\n}\n\nPositionNode.LOCAL = 'local';\nPositionNode.WORLD = 'world';\nPositionNode.VIEW = 'view';\nPositionNode.PROJECTION = 'projection';\nPositionNode.prototype = Object.create(TempNode.prototype);\nPositionNode.prototype.constructor = PositionNode;\nPositionNode.prototype.nodeType = 'Position';\n\nPositionNode.prototype.getType = function () {\n  switch (this.scope) {\n    case PositionNode.PROJECTION:\n      return 'v4';\n  }\n\n  return this.type;\n};\n\nPositionNode.prototype.getShared = function ()\n/* builder */\n{\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n    case PositionNode.WORLD:\n      return false;\n  }\n\n  return true;\n};\n\nPositionNode.prototype.generate = function (builder, output) {\n  var result;\n\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n      if (builder.isShader('vertex')) {\n        result = 'transformed';\n      } else {\n        builder.requires.position = true;\n        result = 'vPosition';\n      }\n\n      break;\n\n    case PositionNode.WORLD:\n      if (builder.isShader('vertex')) {\n        return '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\n      } else {\n        builder.requires.worldPosition = true;\n        result = 'vWPosition';\n      }\n\n      break;\n\n    case PositionNode.VIEW:\n      result = builder.isShader('vertex') ? '-mvPosition.xyz' : 'vViewPosition';\n      break;\n\n    case PositionNode.PROJECTION:\n      result = builder.isShader('vertex') ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\n      break;\n  }\n\n  return builder.format(result, this.getType(builder), output);\n};\n\nPositionNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  return this;\n};\n\nPositionNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.scope = this.scope;\n  }\n\n  return data;\n};\n\nNodeLib.addKeyword('position', function () {\n  return new PositionNode();\n});\nNodeLib.addKeyword('worldPosition', function () {\n  return new PositionNode(PositionNode.WORLD);\n});\nNodeLib.addKeyword('viewPosition', function () {\n  return new PositionNode(PositionNode.VIEW);\n});\n\nexport { PositionNode };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}