{"ast":null,"code":"import { MathUtils } from 'three';\nimport { Node } from './Node.js';\nfunction TempNode(type, params) {\n  Node.call(this, type);\n  params = params || {};\n  this.shared = params.shared !== undefined ? params.shared : true;\n  this.unique = params.unique !== undefined ? params.unique : false;\n}\nTempNode.prototype = Object.create(Node.prototype);\nTempNode.prototype.constructor = TempNode;\nTempNode.prototype.build = function (builder, output, uuid, ns) {\n  output = output || this.getType(builder);\n  if (this.getShared(builder, output)) {\n    var isUnique = this.getUnique(builder, output);\n    if (isUnique && this.constructor.uuid === undefined) {\n      this.constructor.uuid = MathUtils.generateUUID();\n    }\n    uuid = builder.getUuid(uuid || this.getUuid(), !isUnique);\n    var data = builder.getNodeData(uuid),\n      type = data.output || this.getType(builder);\n    if (builder.analyzing) {\n      if ((data.deps || 0) > 0 || this.getLabel()) {\n        this.appendDepsNode(builder, data, output);\n        return this.generate(builder, output, uuid);\n      }\n      return Node.prototype.build.call(this, builder, output, uuid);\n    } else if (isUnique) {\n      data.name = data.name || Node.prototype.build.call(this, builder, output, uuid);\n      return data.name;\n    } else if (!this.getLabel() && (!this.getShared(builder, type) || builder.context.ignoreCache || data.deps === 1)) {\n      return Node.prototype.build.call(this, builder, output, uuid);\n    }\n    uuid = this.getUuid(false);\n    var name = this.getTemp(builder, uuid);\n    if (name) {\n      return builder.format(name, type, output);\n    } else {\n      name = TempNode.prototype.generate.call(this, builder, output, uuid, data.output, ns);\n      var code = this.generate(builder, type, uuid);\n      builder.addNodeCode(name + ' = ' + code + ';');\n      return builder.format(name, type, output);\n    }\n  }\n  return Node.prototype.build.call(this, builder, output, uuid);\n};\nTempNode.prototype.getShared = function (builder, output) {\n  return output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\n};\nTempNode.prototype.getUnique = function () /* builder, output */\n{\n  return this.unique;\n};\nTempNode.prototype.setLabel = function (name) {\n  this.label = name;\n  return this;\n};\nTempNode.prototype.getLabel = function () /* builder */\n{\n  return this.label;\n};\nTempNode.prototype.getUuid = function (unique) {\n  var uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\n  if (typeof this.scope === 'string') uuid = this.scope + '-' + uuid;\n  return uuid;\n};\nTempNode.prototype.getTemp = function (builder, uuid) {\n  uuid = uuid || this.uuid;\n  var tempVar = builder.getVars()[uuid];\n  return tempVar ? tempVar.name : undefined;\n};\nTempNode.prototype.generate = function (builder, output, uuid, type, ns) {\n  if (!this.getShared(builder, output)) console.error('THREE.TempNode is not shared!');\n  uuid = uuid || this.uuid;\n  return builder.getTempVar(uuid, type || this.getType(builder), ns, this.getLabel()).name;\n};\nexport { TempNode };","map":{"version":3,"names":["MathUtils","Node","TempNode","type","params","call","shared","undefined","unique","prototype","Object","create","constructor","build","builder","output","uuid","ns","getType","getShared","isUnique","getUnique","generateUUID","getUuid","data","getNodeData","analyzing","deps","getLabel","appendDepsNode","generate","name","context","ignoreCache","getTemp","format","code","addNodeCode","setLabel","label","scope","tempVar","getVars","console","error","getTempVar"],"sources":["C:/Users/drncs/OneDrive/Área de Trabalho/PORTIFOLIO/SITE3/node_modules/three-stdlib/nodes/core/TempNode.js"],"sourcesContent":["import { MathUtils } from 'three';\nimport { Node } from './Node.js';\n\nfunction TempNode(type, params) {\n  Node.call(this, type);\n  params = params || {};\n  this.shared = params.shared !== undefined ? params.shared : true;\n  this.unique = params.unique !== undefined ? params.unique : false;\n}\n\nTempNode.prototype = Object.create(Node.prototype);\nTempNode.prototype.constructor = TempNode;\n\nTempNode.prototype.build = function (builder, output, uuid, ns) {\n  output = output || this.getType(builder);\n\n  if (this.getShared(builder, output)) {\n    var isUnique = this.getUnique(builder, output);\n\n    if (isUnique && this.constructor.uuid === undefined) {\n      this.constructor.uuid = MathUtils.generateUUID();\n    }\n\n    uuid = builder.getUuid(uuid || this.getUuid(), !isUnique);\n    var data = builder.getNodeData(uuid),\n        type = data.output || this.getType(builder);\n\n    if (builder.analyzing) {\n      if ((data.deps || 0) > 0 || this.getLabel()) {\n        this.appendDepsNode(builder, data, output);\n        return this.generate(builder, output, uuid);\n      }\n\n      return Node.prototype.build.call(this, builder, output, uuid);\n    } else if (isUnique) {\n      data.name = data.name || Node.prototype.build.call(this, builder, output, uuid);\n      return data.name;\n    } else if (!this.getLabel() && (!this.getShared(builder, type) || builder.context.ignoreCache || data.deps === 1)) {\n      return Node.prototype.build.call(this, builder, output, uuid);\n    }\n\n    uuid = this.getUuid(false);\n    var name = this.getTemp(builder, uuid);\n\n    if (name) {\n      return builder.format(name, type, output);\n    } else {\n      name = TempNode.prototype.generate.call(this, builder, output, uuid, data.output, ns);\n      var code = this.generate(builder, type, uuid);\n      builder.addNodeCode(name + ' = ' + code + ';');\n      return builder.format(name, type, output);\n    }\n  }\n\n  return Node.prototype.build.call(this, builder, output, uuid);\n};\n\nTempNode.prototype.getShared = function (builder, output) {\n  return output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\n};\n\nTempNode.prototype.getUnique = function ()\n/* builder, output */\n{\n  return this.unique;\n};\n\nTempNode.prototype.setLabel = function (name) {\n  this.label = name;\n  return this;\n};\n\nTempNode.prototype.getLabel = function ()\n/* builder */\n{\n  return this.label;\n};\n\nTempNode.prototype.getUuid = function (unique) {\n  var uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\n  if (typeof this.scope === 'string') uuid = this.scope + '-' + uuid;\n  return uuid;\n};\n\nTempNode.prototype.getTemp = function (builder, uuid) {\n  uuid = uuid || this.uuid;\n  var tempVar = builder.getVars()[uuid];\n  return tempVar ? tempVar.name : undefined;\n};\n\nTempNode.prototype.generate = function (builder, output, uuid, type, ns) {\n  if (!this.getShared(builder, output)) console.error('THREE.TempNode is not shared!');\n  uuid = uuid || this.uuid;\n  return builder.getTempVar(uuid, type || this.getType(builder), ns, this.getLabel()).name;\n};\n\nexport { TempNode };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}