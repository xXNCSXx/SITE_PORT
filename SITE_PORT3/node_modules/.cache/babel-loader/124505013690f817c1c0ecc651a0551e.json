{"ast":null,"code":"import { FloatNode } from '../inputs/FloatNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\nfunction TimerNode(scale, scope, timeScale) {\n  FloatNode.call(this);\n  this.scale = scale !== undefined ? scale : 1;\n  this.scope = scope || TimerNode.GLOBAL;\n  this.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\n}\nTimerNode.GLOBAL = 'global';\nTimerNode.LOCAL = 'local';\nTimerNode.DELTA = 'delta';\nTimerNode.prototype = Object.create(FloatNode.prototype);\nTimerNode.prototype.constructor = TimerNode;\nTimerNode.prototype.nodeType = 'Timer';\nTimerNode.prototype.getReadonly = function () {\n  // never use TimerNode as readonly but aways as \"uniform\"\n  return false;\n};\nTimerNode.prototype.getUnique = function () {\n  // share TimerNode \"uniform\" input if is used on more time with others TimerNode\n  return this.timeScale && (this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA);\n};\nTimerNode.prototype.updateFrame = function (frame) {\n  var scale = this.timeScale ? this.scale : 1;\n  switch (this.scope) {\n    case TimerNode.LOCAL:\n      this.value += frame.delta * scale;\n      break;\n    case TimerNode.DELTA:\n      this.value = frame.delta * scale;\n      break;\n    default:\n      this.value = frame.time * scale;\n  }\n};\nTimerNode.prototype.copy = function (source) {\n  FloatNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  this.scale = source.scale;\n  this.timeScale = source.timeScale;\n  return this;\n};\nTimerNode.prototype.toJSON = function (meta) {\n  var data = FloatNode.prototype.toJSON.call(this, meta);\n  data.scope = this.scope;\n  data.scale = this.scale;\n  data.timeScale = this.timeScale;\n  return data;\n};\nNodeLib.addKeyword('time', function () {\n  return new TimerNode();\n});\nexport { TimerNode };","map":{"version":3,"names":["FloatNode","NodeLib","TimerNode","scale","scope","timeScale","call","undefined","GLOBAL","LOCAL","DELTA","prototype","Object","create","constructor","nodeType","getReadonly","getUnique","updateFrame","frame","value","delta","time","copy","source","toJSON","meta","data","addKeyword"],"sources":["C:/Users/drncs/OneDrive/√Årea de Trabalho/PORTIFOLIO/SITE3/node_modules/three-stdlib/nodes/utils/TimerNode.js"],"sourcesContent":["import { FloatNode } from '../inputs/FloatNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\n\nfunction TimerNode(scale, scope, timeScale) {\n  FloatNode.call(this);\n  this.scale = scale !== undefined ? scale : 1;\n  this.scope = scope || TimerNode.GLOBAL;\n  this.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\n}\n\nTimerNode.GLOBAL = 'global';\nTimerNode.LOCAL = 'local';\nTimerNode.DELTA = 'delta';\nTimerNode.prototype = Object.create(FloatNode.prototype);\nTimerNode.prototype.constructor = TimerNode;\nTimerNode.prototype.nodeType = 'Timer';\n\nTimerNode.prototype.getReadonly = function () {\n  // never use TimerNode as readonly but aways as \"uniform\"\n  return false;\n};\n\nTimerNode.prototype.getUnique = function () {\n  // share TimerNode \"uniform\" input if is used on more time with others TimerNode\n  return this.timeScale && (this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA);\n};\n\nTimerNode.prototype.updateFrame = function (frame) {\n  var scale = this.timeScale ? this.scale : 1;\n\n  switch (this.scope) {\n    case TimerNode.LOCAL:\n      this.value += frame.delta * scale;\n      break;\n\n    case TimerNode.DELTA:\n      this.value = frame.delta * scale;\n      break;\n\n    default:\n      this.value = frame.time * scale;\n  }\n};\n\nTimerNode.prototype.copy = function (source) {\n  FloatNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  this.scale = source.scale;\n  this.timeScale = source.timeScale;\n  return this;\n};\n\nTimerNode.prototype.toJSON = function (meta) {\n  var data = FloatNode.prototype.toJSON.call(this, meta);\n  data.scope = this.scope;\n  data.scale = this.scale;\n  data.timeScale = this.timeScale;\n  return data;\n};\n\nNodeLib.addKeyword('time', function () {\n  return new TimerNode();\n});\n\nexport { TimerNode };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,wBAAwB;AAClD,SAASC,OAAO,QAAQ,oBAAoB;AAE5C,SAASC,SAASA,CAACC,KAAK,EAAEC,KAAK,EAAEC,SAAS,EAAE;EAC1CL,SAAS,CAACM,IAAI,CAAC,IAAI,CAAC;EACpB,IAAI,CAACH,KAAK,GAAGA,KAAK,KAAKI,SAAS,GAAGJ,KAAK,GAAG,CAAC;EAC5C,IAAI,CAACC,KAAK,GAAGA,KAAK,IAAIF,SAAS,CAACM,MAAM;EACtC,IAAI,CAACH,SAAS,GAAGA,SAAS,KAAKE,SAAS,GAAGF,SAAS,GAAGF,KAAK,KAAKI,SAAS;AAC5E;AAEAL,SAAS,CAACM,MAAM,GAAG,QAAQ;AAC3BN,SAAS,CAACO,KAAK,GAAG,OAAO;AACzBP,SAAS,CAACQ,KAAK,GAAG,OAAO;AACzBR,SAAS,CAACS,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACb,SAAS,CAACW,SAAS,CAAC;AACxDT,SAAS,CAACS,SAAS,CAACG,WAAW,GAAGZ,SAAS;AAC3CA,SAAS,CAACS,SAAS,CAACI,QAAQ,GAAG,OAAO;AAEtCb,SAAS,CAACS,SAAS,CAACK,WAAW,GAAG,YAAY;EAC5C;EACA,OAAO,KAAK;AACd,CAAC;AAEDd,SAAS,CAACS,SAAS,CAACM,SAAS,GAAG,YAAY;EAC1C;EACA,OAAO,IAAI,CAACZ,SAAS,KAAK,IAAI,CAACD,KAAK,KAAKF,SAAS,CAACM,MAAM,IAAI,IAAI,CAACJ,KAAK,KAAKF,SAAS,CAACQ,KAAK,CAAC;AAC9F,CAAC;AAEDR,SAAS,CAACS,SAAS,CAACO,WAAW,GAAG,UAAUC,KAAK,EAAE;EACjD,IAAIhB,KAAK,GAAG,IAAI,CAACE,SAAS,GAAG,IAAI,CAACF,KAAK,GAAG,CAAC;EAE3C,QAAQ,IAAI,CAACC,KAAK;IAChB,KAAKF,SAAS,CAACO,KAAK;MAClB,IAAI,CAACW,KAAK,IAAID,KAAK,CAACE,KAAK,GAAGlB,KAAK;MACjC;IAEF,KAAKD,SAAS,CAACQ,KAAK;MAClB,IAAI,CAACU,KAAK,GAAGD,KAAK,CAACE,KAAK,GAAGlB,KAAK;MAChC;IAEF;MACE,IAAI,CAACiB,KAAK,GAAGD,KAAK,CAACG,IAAI,GAAGnB,KAAK;EACnC;AACF,CAAC;AAEDD,SAAS,CAACS,SAAS,CAACY,IAAI,GAAG,UAAUC,MAAM,EAAE;EAC3CxB,SAAS,CAACW,SAAS,CAACY,IAAI,CAACjB,IAAI,CAAC,IAAI,EAAEkB,MAAM,CAAC;EAC3C,IAAI,CAACpB,KAAK,GAAGoB,MAAM,CAACpB,KAAK;EACzB,IAAI,CAACD,KAAK,GAAGqB,MAAM,CAACrB,KAAK;EACzB,IAAI,CAACE,SAAS,GAAGmB,MAAM,CAACnB,SAAS;EACjC,OAAO,IAAI;AACb,CAAC;AAEDH,SAAS,CAACS,SAAS,CAACc,MAAM,GAAG,UAAUC,IAAI,EAAE;EAC3C,IAAIC,IAAI,GAAG3B,SAAS,CAACW,SAAS,CAACc,MAAM,CAACnB,IAAI,CAAC,IAAI,EAAEoB,IAAI,CAAC;EACtDC,IAAI,CAACvB,KAAK,GAAG,IAAI,CAACA,KAAK;EACvBuB,IAAI,CAACxB,KAAK,GAAG,IAAI,CAACA,KAAK;EACvBwB,IAAI,CAACtB,SAAS,GAAG,IAAI,CAACA,SAAS;EAC/B,OAAOsB,IAAI;AACb,CAAC;AAED1B,OAAO,CAAC2B,UAAU,CAAC,MAAM,EAAE,YAAY;EACrC,OAAO,IAAI1B,SAAS,CAAC,CAAC;AACxB,CAAC,CAAC;AAEF,SAASA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}