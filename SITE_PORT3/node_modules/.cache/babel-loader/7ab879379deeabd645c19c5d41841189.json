{"ast":null,"code":"import { MathUtils } from 'three';\nfunction Node(type) {\n  this.uuid = MathUtils.generateUUID();\n  this.name = '';\n  this.type = type;\n  this.userData = {};\n}\nNode.prototype = {\n  constructor: Node,\n  isNode: true,\n  hashProperties: undefined,\n  analyze: function (builder, settings) {\n    settings = settings || {};\n    builder.analyzing = true;\n    this.build(builder.addFlow(settings.slot, settings.cache, settings.context), 'v4');\n    builder.clearVertexNodeCode();\n    builder.clearFragmentNodeCode();\n    builder.removeFlow();\n    builder.analyzing = false;\n  },\n  analyzeAndFlow: function (builder, output, settings) {\n    settings = settings || {};\n    this.analyze(builder, settings);\n    return this.flow(builder, output, settings);\n  },\n  flow: function (builder, output, settings) {\n    settings = settings || {};\n    builder.addFlow(settings.slot, settings.cache, settings.context);\n    var flow = {};\n    flow.result = this.build(builder, output);\n    flow.code = builder.clearNodeCode();\n    flow.extra = builder.context.extra;\n    builder.removeFlow();\n    return flow;\n  },\n  build: function (builder, output, uuid) {\n    output = output || this.getType(builder, output);\n    var data = builder.getNodeData(uuid || this);\n    if (builder.analyzing) {\n      this.appendDepsNode(builder, data, output);\n    }\n    if (builder.nodes.indexOf(this) === -1) {\n      builder.nodes.push(this);\n    }\n    if (this.updateFrame !== undefined && builder.updaters.indexOf(this) === -1) {\n      builder.updaters.push(this);\n    }\n    return this.generate(builder, output, uuid);\n  },\n  generate: function () /* builder, output, uuid, type, ns */\n  {// This method needs to be implemented in subclasses\n  },\n  getHash: function () {\n    var hash = '{';\n    var prop, obj;\n    for (prop in this) {\n      obj = this[prop];\n      if (obj instanceof Node) {\n        hash += '\"' + prop + '\":' + obj.getHash() + ',';\n      }\n    }\n    if (this.hashProperties) {\n      for (let i = 0; i < this.hashProperties.length; i++) {\n        prop = this.hashProperties[i];\n        obj = this[prop];\n        hash += '\"' + prop + '\":\"' + String(obj) + '\",';\n      }\n    }\n    hash += '\"id\":\"' + this.uuid + '\"}';\n    return hash;\n  },\n  appendDepsNode: function (builder, data, output) {\n    data.deps = (data.deps || 0) + 1;\n    var outputLen = builder.getTypeLength(output);\n    if (outputLen > (data.outputMax || 0) || this.getType(builder, output)) {\n      data.outputMax = outputLen;\n      data.output = output;\n    }\n  },\n  setName: function (name) {\n    this.name = name;\n    return this;\n  },\n  getName: function () /* builder */\n  {\n    return this.name;\n  },\n  getType: function (builder, output) {\n    return output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\n  },\n  getJSONNode: function (meta) {\n    var isRootObject = meta === undefined || typeof meta === 'string';\n    if (!isRootObject && meta.nodes[this.uuid] !== undefined) {\n      return meta.nodes[this.uuid];\n    }\n  },\n  copy: function (source) {\n    if (source.name !== undefined) this.name = source.name;\n    if (source.userData !== undefined) this.userData = JSON.parse(JSON.stringify(source.userData));\n    return this;\n  },\n  createJSONNode: function (meta) {\n    var isRootObject = meta === undefined || typeof meta === 'string';\n    var data = {};\n    if (typeof this.nodeType !== 'string') throw new Error('Node does not allow serialization.');\n    data.uuid = this.uuid;\n    data.nodeType = this.nodeType;\n    if (this.name !== '') data.name = this.name;\n    if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData;\n    if (!isRootObject) {\n      meta.nodes[this.uuid] = data;\n    }\n    return data;\n  },\n  toJSON: function (meta) {\n    return this.getJSONNode(meta) || this.createJSONNode(meta);\n  }\n};\nexport { Node };","map":{"version":3,"names":["MathUtils","Node","type","uuid","generateUUID","name","userData","prototype","constructor","isNode","hashProperties","undefined","analyze","builder","settings","analyzing","build","addFlow","slot","cache","context","clearVertexNodeCode","clearFragmentNodeCode","removeFlow","analyzeAndFlow","output","flow","result","code","clearNodeCode","extra","getType","data","getNodeData","appendDepsNode","nodes","indexOf","push","updateFrame","updaters","generate","getHash","hash","prop","obj","i","length","String","deps","outputLen","getTypeLength","outputMax","setName","getName","getJSONNode","meta","isRootObject","copy","source","JSON","parse","stringify","createJSONNode","nodeType","Error","toJSON"],"sources":["C:/Users/drncs/OneDrive/√Årea de Trabalho/PORTIFOLIO/SITE3/node_modules/three-stdlib/nodes/core/Node.js"],"sourcesContent":["import { MathUtils } from 'three';\n\nfunction Node(type) {\n  this.uuid = MathUtils.generateUUID();\n  this.name = '';\n  this.type = type;\n  this.userData = {};\n}\n\nNode.prototype = {\n  constructor: Node,\n  isNode: true,\n  hashProperties: undefined,\n  analyze: function (builder, settings) {\n    settings = settings || {};\n    builder.analyzing = true;\n    this.build(builder.addFlow(settings.slot, settings.cache, settings.context), 'v4');\n    builder.clearVertexNodeCode();\n    builder.clearFragmentNodeCode();\n    builder.removeFlow();\n    builder.analyzing = false;\n  },\n  analyzeAndFlow: function (builder, output, settings) {\n    settings = settings || {};\n    this.analyze(builder, settings);\n    return this.flow(builder, output, settings);\n  },\n  flow: function (builder, output, settings) {\n    settings = settings || {};\n    builder.addFlow(settings.slot, settings.cache, settings.context);\n    var flow = {};\n    flow.result = this.build(builder, output);\n    flow.code = builder.clearNodeCode();\n    flow.extra = builder.context.extra;\n    builder.removeFlow();\n    return flow;\n  },\n  build: function (builder, output, uuid) {\n    output = output || this.getType(builder, output);\n    var data = builder.getNodeData(uuid || this);\n\n    if (builder.analyzing) {\n      this.appendDepsNode(builder, data, output);\n    }\n\n    if (builder.nodes.indexOf(this) === -1) {\n      builder.nodes.push(this);\n    }\n\n    if (this.updateFrame !== undefined && builder.updaters.indexOf(this) === -1) {\n      builder.updaters.push(this);\n    }\n\n    return this.generate(builder, output, uuid);\n  },\n  generate: function ()\n  /* builder, output, uuid, type, ns */\n  {// This method needs to be implemented in subclasses\n  },\n  getHash: function () {\n    var hash = '{';\n    var prop, obj;\n\n    for (prop in this) {\n      obj = this[prop];\n\n      if (obj instanceof Node) {\n        hash += '\"' + prop + '\":' + obj.getHash() + ',';\n      }\n    }\n\n    if (this.hashProperties) {\n      for (let i = 0; i < this.hashProperties.length; i++) {\n        prop = this.hashProperties[i];\n        obj = this[prop];\n        hash += '\"' + prop + '\":\"' + String(obj) + '\",';\n      }\n    }\n\n    hash += '\"id\":\"' + this.uuid + '\"}';\n    return hash;\n  },\n  appendDepsNode: function (builder, data, output) {\n    data.deps = (data.deps || 0) + 1;\n    var outputLen = builder.getTypeLength(output);\n\n    if (outputLen > (data.outputMax || 0) || this.getType(builder, output)) {\n      data.outputMax = outputLen;\n      data.output = output;\n    }\n  },\n  setName: function (name) {\n    this.name = name;\n    return this;\n  },\n  getName: function ()\n  /* builder */\n  {\n    return this.name;\n  },\n  getType: function (builder, output) {\n    return output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\n  },\n  getJSONNode: function (meta) {\n    var isRootObject = meta === undefined || typeof meta === 'string';\n\n    if (!isRootObject && meta.nodes[this.uuid] !== undefined) {\n      return meta.nodes[this.uuid];\n    }\n  },\n  copy: function (source) {\n    if (source.name !== undefined) this.name = source.name;\n    if (source.userData !== undefined) this.userData = JSON.parse(JSON.stringify(source.userData));\n    return this;\n  },\n  createJSONNode: function (meta) {\n    var isRootObject = meta === undefined || typeof meta === 'string';\n    var data = {};\n    if (typeof this.nodeType !== 'string') throw new Error('Node does not allow serialization.');\n    data.uuid = this.uuid;\n    data.nodeType = this.nodeType;\n    if (this.name !== '') data.name = this.name;\n    if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData;\n\n    if (!isRootObject) {\n      meta.nodes[this.uuid] = data;\n    }\n\n    return data;\n  },\n  toJSON: function (meta) {\n    return this.getJSONNode(meta) || this.createJSONNode(meta);\n  }\n};\n\nexport { Node };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}